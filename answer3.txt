To implement mouse aiming (so shots are aimed at the player's mouse position, not auto-aimed at the ghost), follow these steps:

**Files you need to change:**
- `client/main.js`
- `server/app.py`
- `server/shooting.py`

**Steps:**

1. **Client-side updates (`client/main.js`):**

   - **Track mouse position:**  
     Listen for mouse movement over the canvas and record the mouse coordinates relative to the game box.

   - **Send mouse position on shoot:**  
     When the player shoots (e.g., presses 'K' or clicks), emit the `shoot` event to the server with the current mouse coordinates:
     ```js
     socket.emit('shoot', { x: mouseX, y: mouseY });
     ```
     (You’ll need to maintain and update `mouseX`, `mouseY` as the mouse moves.)

2. **Server handler update (`server/app.py`):**

   - **Update shoot event:**  
     Modify the `@socketio.on('shoot')` handler to accept the target mouse coordinates from the client:
     ```python
     @socketio.on('shoot')
     def on_shoot(data):
         ...
         handle_shoot(players, shots, request.sid, data)
     ```
     Pass the mouse coordinates (`data['x']`, `data['y']`) to the shooting logic.

3. **Shooting logic update (`server/shooting.py`):**

   - **Update `handle_shoot`:**  
     Change the function signature to accept mouse coordinates:  
     ```python
     def handle_shoot(players, shots, shooter_sid, data):
     ```
     Use the passed-in mouse coordinates to set the shot’s direction from the player to the aimed position, instead of auto-targeting the nearest ghost.

     Example:
     ```python
     dx = data['x'] - shooter['x']
     dy = data['y'] - shooter['y']
     dist = math.hypot(dx, dy)
     vx = dx / dist * SHOT_SPEED
     vy = dy / dist * SHOT_SPEED
     # create the shot using vx, vy
     ```

4. **Ghost mechanic:**  
   Leave the ghost/collision logic unchanged: shots still collide with the delayed (ghost) position of players.

---

**Summary:**  
- Add mouse tracking and send mouse coordinates with shoot events (`client/main.js`)
- Update the shoot event handler to accept/forward coordinates (`server/app.py`)
- Use mouse coordinates as the shot’s target in `handle_shoot` (`server/shooting.py`)
- No changes to `server/ghost.py` are needed.

This will result in shots firing toward where the mouse was aimed when shooting, instead of auto-aiming at the ghost.